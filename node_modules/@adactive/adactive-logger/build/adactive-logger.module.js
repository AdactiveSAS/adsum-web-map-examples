/**
 * Copyright (C) 2018 Adactive SAS
 */

const LogLevels={ERROR:"error",WARN:"warn",INFO:"info",VERBOSE:"verbose",DEBUG:"debug",SILLY:"silly"};class AbstractLogger{static isValidLogger(e){const l={isValid:!0,reasons:[]};return"object"!=typeof e||null===e?(l.isValid=!1,l.reasons.push("Logger must be a not null object"),l):(Object.keys(LogLevels).forEach(s=>{const o=LogLevels[s];"function"!=typeof e[o]&&(l.isValid=!1,l.reasons.push(`Logger must implement method ${o}`))}),l)}log(e,l,s){throw new Error("This is an interface")}error(e,l=null){this.log(LogLevels.ERROR,e,l)}warn(e,l=null){this.log(LogLevels.WARN,e,l)}info(e,l=null){this.log(LogLevels.INFO,e,l)}verbose(e,l=null){this.log(LogLevels.VERBOSE,e,l)}debug(e,l=null){this.log(LogLevels.DEBUG,e,l)}silly(e,l=null){this.log(LogLevels.SILLY,e,l)}static _getLevelValue(e){switch(e){case LogLevels.ERROR:return 0;case LogLevels.WARN:return 1;case LogLevels.INFO:return 2;case LogLevels.VERBOSE:return 3;case LogLevels.DEBUG:return 4;case LogLevels.SILLY:return 5;default:return 2}}}class NullLogger extends AbstractLogger{log(e,l,s=null){}}class ChildLogger extends AbstractLogger{constructor(e,l){super(),this.logger=e,this.tag=l}log(e,l,s=null){this.logger.log(e,`[${this.tag}]${l}`,s)}}class ConsoleLogger extends AbstractLogger{constructor(e=LogLevels.WARN,l=null){super(),this.level=e,this.tag=l}log(e,l,s=null){if(this.constructor._getLevelValue(this.level)<this.constructor._getLevelValue(e))return;let o=null;o=null!==this.tag?`[${e}][${this.tag}]: ${l}`:`[${e}]: ${l}`,s?console.log(o,s):console.log(o)}}export{AbstractLogger,LogLevels,NullLogger,ChildLogger,ConsoleLogger};
